# Design Brief: Sprout Finishing Room `json-render` Integration

**Initiative:** `refactored-research-modal` (v2) / `json-render` Integration
**Status:** Design Complete, Ready for UX Chief Review & Dev Handoff
**Designer:** UI/UX Designer Agent
**Date:** 2026-01-15

---

### 1. Executive Summary

This document outlines the final design for the **Sprout Finishing Room**, which has been redesigned to incorporate Vercel's `json-render` library. This strategic pivot transforms the research results viewer from a static display into a dynamic, interactive workspace. The AI will now generate structured `ResearchDocument` objects as JSON, which are then rendered into a live, interactive preview using a predefined component catalog. This aligns perfectly with Grove's core principles of "living objects, not static blobs" and "declarative sovereignty."

### 2. Strategic Alignment

The adoption of `json-render` directly addresses the opportunity outlined in the "Constrained AI Generation" brief.

*   **Constrained Vocabulary:** The AI's output is constrained to a `ResearchObject` component catalog, ensuring predictable, schema-compliant results.
*   **Declarative Output:** The AI generates a declarative JSON "blueprint" of the research artifact, separating content from presentation.
*   **Kinetic Objects:** The rendered output is an interactive object, not a static message, fulfilling a core tenet of the Grove philosophy.

### 3. User Experience

The user experience is centered around the three-panel Sprout Finishing Room, with the central "Document Viewer" now powered by `json-render`.

*   **Live, Dynamic Content:** The research document is no longer a monolithic block of markdown. It is a composition of distinct components (`ResearchHeader`, `AnalysisBlock`, `SourceList`, etc.), rendered dynamically from the JSON artifact.
*   **Transparency & Inspectability:** A **Raw JSON View Toggle** has been added to the preview panel, allowing power users to inspect the underlying data structure generated by the AI. This makes the system's inner workings transparent and debuggable.
*   **Seamless Error Handling:** A user flow for validation errors has been designed. If the AI generates invalid JSON, it will attempt to self-correct, notifying the user non-intrusively. This maintains a smooth user experience even when the AI fails.

### 4. Component Catalog (`ResearchObject`)

The following `json-render` catalog has been defined to map the `ResearchDocument` Zod schema to interactive React components.

*   **`ResearchHeader`**: Renders `position` and `query`.
*   **`AnalysisBlock`**: Renders `analysis` markdown.
*   **`SourceList`**: Renders the `citations` array (renamed from `CitationList` for terminological alignment).
*   **`LimitationsBlock`**: Renders the optional `limitations` field.
*   **`Metadata`**: Renders `status`, `confidenceScore`, and `wordCount`.

### 5. Final Design Artifacts

*   **Updated Wireframe:** `docs/design-system/SPROUT_FINISHING_ROOM_WIREFRAME.md`
*   **Interactive HTML Mockup:** `docs/sprints/sprout-finishing-room-v1/MOCKUP.html`

### 6. Next Steps

This design is now ready for final UX Chief review and subsequent handoff to the engineering team for technical design and implementation.